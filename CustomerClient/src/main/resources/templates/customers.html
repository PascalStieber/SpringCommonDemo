<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Spring Security SSO Client 2</title>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" />
</head>

<body>
	<div class="container">

		<div class="col-sm-12">
			<h1>Customers and its Contacts</h1>
			<div class="col-sm-4">

				<form action="#" th:action="@{/customers}"
					th:object="${newcustomer}" method="post">
					<div class="form-group">
						<label for="firstname">Firstname:</label> <input type="text"
							th:field="*{firstname}" class="form-control" id="firstname" />
					</div>
					<div class="form-group">
						<label for="lastname">Lastname:</label> <input type="text"
							th:field="*{lastname}" class="form-control" id="lastname" />
					</div>
					<div th:if="${contracts != null}">
						<div class="form-group">
							<label for="reference">Reference:</label> <input type="text"
								th:field="${contract.reference}" class="form-control" id="reference" />
						</div>
						<div class="form-group">
							<label for="subject">Subject:</label> <input type="text"
								th:field="${contract.subject}" class="form-control" id="subject" />
						</div>
					</div>
					<button type="submit" name="btn_action" value="addContract"
						class="btn btn-default">Add Contract</button>
					<button type="submit" name="btn_action" value="save"
						class="btn btn-basic">Submit</button>
				</form>

			</div>
			<div class="col-sm-8">
				<div class="table-responsive">
					<table class="table table-striped table-bordered table-hover">
						<tr>
							<th>Firstname</th>
							<th>Lastname</th>
							<th>Contacts</th>
						</tr>
						<tr th:each="customer,iter : ${customerList}">
							<td th:text="${customer.firstname}">NONE</td>
							<td th:text="${customer.lastname}">NONE</td>
							<td>
								<table class="table table-bordered table-condensed">
									<tr>
										<th>Reference</th>
										<th>Subject</th>
									</tr>
									<tr th:each="contract,iter : ${customer.contracts}">
										<td th:text="${contract.reference}">NONE</td>
										<td th:text="${contract.subject}">NONE</td>
									</tr>
								</table>
							</td>
						</tr>
					</table>
				</div>
			</div>
		</div>
	</div>
</body>
</html>